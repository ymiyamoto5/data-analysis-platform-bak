{
    // IntelliSense を使用して利用可能な属性を学べます。
    // 既存の属性の説明をホバーして表示します。
    // 詳細情報は次を確認してください: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [

        {
            "name": "Python: Current File",
            "type": "python",
            "request": "launch",
            "program": "${file}",
            "console": "integratedTerminal",
        },
        {
            "name": "Python: Current File with args",
            "type": "python",
            "request": "launch",
            "program": "${file}",
            "env": {},
            "console": "integratedTerminal",
            "args": [
                "-m=machine-01",
            ]
        },
        {
            "name": "analyzer",
            "type": "python",
            "module": "backend.analyzer.analyzer",
            "request": "launch",
            "cwd": "${workspaceFolder}",
            "console": "integratedTerminal"
        },
        {
            "name": "cut_out_shot",
            "type": "python",
            "module": "backend.cut_out_shot.cut_out_shot",
            "request": "launch",
            "cwd": "${workspaceFolder}",
            "console": "integratedTerminal",
            // "preLaunchTask": "Sleepdelay"
        },
        {
            "name": "data_importer",
            "type": "python",
            "module": "backend.data_importer.data_importer",
            "request": "launch",
            "cwd": "${workspaceFolder}",
            "console": "integratedTerminal"
        },
        {
            "name": "data_reader",
            "type": "python",
            "module": "backend.data_reader.data_reader",
            "request": "launch",
            "cwd": "${workspaceFolder}",
            "console": "integratedTerminal"
        },
        {
            "name": "data_recorder(manual record)",
            "type": "python",
            "module": "backend.data_recorder.data_recorder",
            "request": "launch",
            "cwd": "${workspaceFolder}",
            "console": "integratedTerminal",
            "args": [
                "-d=unittest-machine-01-20220323164333"
            ],
            // "preLaunchTask": "Sleepdelay"
        },
        {
            "name": "gateway_simulator",
            "type": "python",
            "module": "backend.utils.gateway_simulator",
            "request": "launch",
            "cwd": "${workspaceFolder}",
            "console": "integratedTerminal",
            "args": [
                "-m=unittest-machine-01"
            ],
        },
        {
            "name": "FastAPI",
            "type": "python",
            "request": "launch",
            "module": "uvicorn",
            "args": [
                "backend.app.main:app",
                // "--reload",
                "--host=0.0.0.0"
            ],
            "jinja": true
        },
        {
            "name": "Debug Tests",
            "type": "python",
            "request": "test",
            "console": "integratedTerminal",
            "justMyCode": false
        },
        // frontend
        // Node DevServerを予め起動しておくこと
        {
            "name": "chrome",
            // "breakOnLoad": true,
            "type": "legacy-chrome",
            "request": "launch",
            "url": "http://localhost:8080",
            "webRoot": "${workspaceFolder}/frontend/src",
            "sourceMapPathOverrides": {
                "webpack:///src/*": "${webRoot}/*", // hit for *.vue
                "webpack:///./src/*.js": "${webRoot}/*.js", // hit for main.js, store.js
                "webpack:///./src/mixins/*.js": "${webRoot}/mixins/*.js",
                "webpack:///./src/api/*.js": "${webRoot}/api/*.js",
                "webpack:///./src/store/*.js": "${webRoot}/store/*.js",
                "webpack:///./src/store/modules/*.js": "${webRoot}/store/modules/*.js",
                "webpack:///./node_modules/*.js": "${webRoot}/../node_modules/*.js",
            },
            // "preLaunchTask": "delay5sec",
            // "runtimeExecutable": "${workspaceFolder}/_devtools/start_dev_web.sh"
        },
        // 全てのテストを実行：package.json にある、scripts/test:unit を実行
        {
            "name": "Jest all",
            "type": "node",
            "request": "launch",
            "cwd": "${workspaceFolder}/frontend/",
            "runtimeExecutable": "npm",
            "runtimeArgs": [
                "run",
                "test:unit",
            ],
            "sourceMaps": true,
            "console": "integratedTerminal"
        },
        // エディタで開いているテストファイルのみをデバック実行する：これはpackage.jsonは無関係
        {
            "name": "Jest Current",
            "type": "node",
            "request": "launch",
            "cwd": "${workspaceFolder}/frontend/",
            "runtimeExecutable": "node",
            "runtimeArgs": [
                "--inspect-brk",
                "./node_modules/.bin/vue-cli-service",
                "test:unit",
                "--runInBand",
                "${file}"
            ],
            "sourceMaps": true,
            "port": 9229,
            "console": "integratedTerminal"
        }
    ],
    "compounds": [
        {
            "name": "Full-stack",
            "configurations": [
                "FastAPI",
                "chrome"
            ]
        }
    ]
}